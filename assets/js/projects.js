document.addEventListener("DOMContentLoaded",function(){const t=document.querySelectorAll(".filter-btn"),e=document.querySelectorAll(".grid-item, .card-item"),r=document.querySelector(".grid");t.forEach(a=>{a.addEventListener("click",()=>{t.forEach(t=>t.classList.remove("active")),a.classList.add("active");const c=a.getAttribute("data-filter").trim();if(e.forEach(t=>{const e=t.getAttribute("data-category");let r=[];try{const t=JSON.parse(e);r=Array.isArray(t)?t:[t]}catch(t){if(console.log("JSON parse error for:",e,t),e)try{const t=e.replace(/'/g,'"'),a=JSON.parse(t);r=Array.isArray(a)?a:[a]}catch(t){let a=e.trim();a.startsWith('"')&&a.endsWith('"')&&(a=a.slice(1,-1)),r=[a]}}r=r.map(t=>String(t).trim()),"all"===c||r.includes(c)?t.style.display=null:t.style.display="none"}),r&&window.Masonry){var i=Masonry.data(r);i&&i.layout()}})})});